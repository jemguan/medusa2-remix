import{D as G,u as T,c as j}from"./chunk-43PRAFWA-ggMuEKcf.js";import{S as b}from"./chunk-2RQLKDBF-ByAB-Zu3.js";import{a as h,j as r,b as x,dZ as S,k as w,u as y,e9 as A,r as m,t as g}from"./index-Br7KcgVZ.js";import{u as L}from"./chunk-C76H5USB-snx4tQYu.js";import{u as P}from"./chunk-EPATMX2O-Fnr0vyLv.js";import{P as E}from"./pencil-square-DvX6HK1G.js";import{T as k}from"./trash-CF90J7Pj.js";import{u as F}from"./use-prompt-BJQZ-chh.js";import{C as I}from"./container-DT4nbkLO.js";import"./checkbox-CuKUmx-V.js";import"./index-CTi5Aiew.js";import"./command-bar-D4WdMclT.js";import"./index-DTt8xJH5.js";import"./table-Oe8J9KZe.js";import"./arrow-up-mini-Dqi2bbQJ.js";import"./date-picker-DwI7Qf6K.js";import"./clsx-B-dksMZM.js";import"./popover-ntoiPHLH.js";import"./x-mark-mini-7wDt4qdT.js";import"./triangle-left-mini-BCF8TRqK.js";import"./Trans-D_-MLUQW.js";import"./check-C_q2Aw8o.js";import"./format-Bc3Z-myT.js";import"./prompt-BFK30w09.js";var f=10,N=()=>{const{t:e}=x(),{getWidgets:o}=h(),{q:n,order:u,offset:a,created_at:i,updated_at:t}=L(["q","order","offset","created_at","updated_at"]),s=q(),p=H(),{customer_groups:l,count:D,isPending:_,isError:C,error:v}=S({q:n,order:u,offset:a?parseInt(a):void 0,limit:f,created_at:i?JSON.parse(i):void 0,updated_at:t?JSON.parse(t):void 0,fields:"id,name,created_at,updated_at,customers.id"},{placeholderData:w});if(C)throw v;return r.jsx(b,{widgets:{before:o("customer_group.list.before"),after:o("customer_group.list.after")},children:r.jsx(I,{className:"overflow-hidden p-0",children:r.jsx(G,{data:l,columns:s,filters:p,heading:e("customerGroups.domain"),rowCount:D,getRowId:d=>d.id,rowHref:d=>`/customer-groups/${d.id}`,action:{label:e("actions.create"),to:"/customer-groups/create"},emptyState:{empty:{heading:e("customerGroups.list.empty.heading"),description:e("customerGroups.list.empty.description")},filtered:{heading:e("customerGroups.list.filtered.heading"),description:e("customerGroups.list.filtered.description")}},pageSize:f,isLoading:_})})})},c=j(),q=()=>{const{t:e}=x(),{getFullDate:o}=P(),n=y(),u=F(),{mutateAsync:a}=A(),i=m.useCallback(async({id:t,name:s})=>{await u({title:e("customerGroups.delete.title"),description:e("customerGroups.delete.description",{name:s}),verificationText:s,verificationInstruction:e("general.typeToConfirm"),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await a({id:t},{onSuccess:()=>{g.success(e("customerGroups.delete.successToast",{name:s}))},onError:l=>{g.error(l.message)}})},[e,u,a]);return m.useMemo(()=>[c.accessor("name",{header:e("fields.name"),enableSorting:!0,sortAscLabel:e("filters.sorting.alphabeticallyAsc"),sortDescLabel:e("filters.sorting.alphabeticallyDesc")}),c.accessor("customers",{header:e("customers.domain"),cell:({row:t})=>{var s;return r.jsx("span",{children:((s=t.original.customers)==null?void 0:s.length)??0})}}),c.accessor("created_at",{header:e("fields.createdAt"),cell:({row:t})=>r.jsx("span",{children:o({date:t.original.created_at,includeTime:!0})}),enableSorting:!0,sortAscLabel:e("filters.sorting.dateAsc"),sortDescLabel:e("filters.sorting.dateDesc")}),c.accessor("updated_at",{header:e("fields.updatedAt"),cell:({row:t})=>r.jsx("span",{children:o({date:t.original.updated_at,includeTime:!0})}),enableSorting:!0,sortAscLabel:e("filters.sorting.dateAsc"),sortDescLabel:e("filters.sorting.dateDesc")}),c.action({actions:[[{icon:r.jsx(E,{}),label:e("actions.edit"),onClick:t=>{n(`/customer-groups/${t.row.original.id}/edit`)}}],[{icon:r.jsx(k,{}),label:e("actions.delete"),onClick:t=>{i({id:t.row.original.id,name:t.row.original.name??""})}}]]})],[e,n,o,i])},H=()=>{const e=T();return m.useMemo(()=>e,[e])},ue=()=>{const{getWidgets:e}=h();return r.jsx(b,{widgets:{after:e("customer_group.list.after"),before:e("customer_group.list.before")},children:r.jsx(N,{})})};export{ue as Component};
